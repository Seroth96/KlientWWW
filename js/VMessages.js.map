{"version":3,"file":"VMessages.js","sourceRoot":"","sources":["VMessages.ts"],"names":[],"mappings":"AAAA;;GAEG;AACH;IAGI,YAAmB,IAAU;QADrB,aAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAE/C,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;IAC1C,CAAC;IAEM,OAAO;QACV,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAEM,IAAI;QACP,EAAE,CAAA,CAAC,OAAO,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,CAAA,CAAC;YAChC,MAAM,CAAC,4BAA4B,CAAC;QACxC,CAAC;QACD,IAAI,CAAA,CAAC;YACD,MAAM,CAAC;;;;0BAIO,IAAI,CAAC,IAAI,CAAC,UAAU,EAAE;;sBAE1B,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;;sBAEvB,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE;;yBAEf,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;;;;;SAKnC,CAAC;QACF,CAAC;IACL,CAAC;AACL,CAAC;AAGD;IAEI,YAAmB,QAAgB;QAC/B,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAEM,IAAI;QACP,IAAI,IAAI,GAAE,EAAE,CAAC;QACb,GAAG,CAAA,CAAC,IAAI,IAAI,IAAI,IAAI,CAAC,QAAQ,CAAC,CAAA,CAAC;YAC3B,EAAE,CAAA,CAAC,OAAO,IAAI,IAAI,WAAW,CAAC,CAAA,CAAC;gBACvB,IAAI,IAAI;yBACH,IAAI,CAAC,KAAK,EAAE;0BACX,IAAI,CAAC,UAAU,EAAE;0BACjB,IAAI,CAAC,WAAW,EAAE;0BAClB,IAAI,CAAC,MAAM,EAAE;;uBAEhB,CAAC;YACZ,CAAC;QACL,CAAC;QACD,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;AAGL,CAAC;AAED;IAGI;QAFQ,aAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;QAG/C,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAEM,IAAI;QAGP,IAAI,IAAI,GAAG;;;;;;;;;;;;CAYlB,CAAC;QACM,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;QAE/B,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE;YAC1D,IAAI,CAAC,IAAI,EAAE,CAAC;QAChB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE;YACzD,GAAG,CAAC,MAAM,EAAE,CAAC;QACjB,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE;YACzD,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,QAAQ,CAAE,CAAC,KAAK,CAAC;YAC3E,IAAI,IAAI,GAAsB,QAAQ,CAAC,cAAc,CAAC,iBAAiB,CAAE,CAAC,KAAK,CAAC;YAChF,EAAE,CAAA,CAAC,IAAI,CAAC,MAAM,IAAI,CAAC,CAAC;gBAChB,GAAG,CAAC,YAAY,EAAE,CAAC;YACvB,IAAI,CAAC,CAAC;gBACF,EAAE,CAAC,CAAC,QAAQ,IAAI,KAAK,CAAC;oBAClB,GAAG,CAAC,iBAAiB,CAAC,IAAI,CAAC,CAAC;gBAChC,IAAI;oBACA,GAAG,CAAC,sBAAsB,CAAC,IAAI,CAAC,CAAC;YACzC,CAAC;QACL,CAAC,CAAC,CAAC;QAKH,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE,CAAC,KAAK;YAC7D,IAAI,KAAK,GAAsB,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAE,CAAC,KAAK,CAAC;YACzE,IAAI,IAAI,GAAsB,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAE,CAAC,KAAK,CAAC;YACxE,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAE,CAAC,KAAK,CAAC;YAC7E,IAAI,GAAG,GAAsB,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAE,CAAC,KAAK,CAAC;YAEnE,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,EAAC,GAAG,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC;YAEjD,GAAG,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC;YACA,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAE,CAAC,KAAK,GAAG,EAAE,CAAC;YAC/C,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAE,CAAC,KAAK,GAAG,EAAE,CAAC;YAC/C,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAE,CAAC,KAAK,GAAG,EAAE,CAAC;YAChD,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAE,CAAC,KAAK,GAAG,EAAE,CAAC;QAElE,CAAC,CAAC,CAAC;QAGH,MAAM,CAAC,IAAI,CAAC;IAChB,CAAC;AAEL,CAAC;AAED;IAMI;QAFQ,aAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QAGnD,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,EAAE,CAAC,CAAC;QAC9B,IAAI,CAAC,OAAO,GAAG,IAAI,WAAW,EAAE,CAAC;QACjC,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAEM,IAAI;QACP,IAAI,IAAI,GAAE;;;;;;;;;;;kBAWA,IAAI,CAAC,IAAI,CAAC,IAAI,EAAE;;;CAGjC,CAAC;QACM,IAAI,CAAC,QAAQ,CAAC,SAAS,GAAG,IAAI,CAAC;QAE/B,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE,CAAC,KAAK;YAChE,IAAI,MAAM,GAAG,KAAK,CAAC,MAAqB,CAAC;YACzC,IAAI,CAAC,GAAE,MAAM,CAAC,aAAa,CAAC;YAC5B,IAAI,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC;YAEf,EAAE,CAAA,CAAC,MAAM,CAAC,QAAQ,KAAK,IAAI,CAAC,CAAA,CAAC;gBACzB,EAAE,CAAA,CAAC,OAAO,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;oBAC1B,4CAA4C;oBAC5C,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;gBACpB,CAAC;YACL,CAAC;YACD,EAAE,CAAA,CAAC,MAAM,CAAC,QAAQ,KAAK,GAAG,CAAC,CAAA,CAAC;gBACxB,EAAE,CAAA,CAAC,OAAO,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;oBAC3C,6DAA6D;oBAC7D,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;gBACrC,CAAC;YACL,CAAC;QAEL,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,CAAC;IAEhB,CAAC;IAEM,QAAQ,CAAC,IAAY;QACxB,IAAI,CAAC,IAAI,GAAG,IAAI,SAAS,CAAC,IAAI,CAAC,CAAC;QAChC,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;IAEM,OAAO,CAAC,IAAU;QACrB,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;QAElC,QAAQ,CAAC,aAAa,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE,CAAC,KAAK;YAC/D,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,CAAA;YACvC,EAAE,CAAA,CAAC,OAAO,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;gBAC1B,GAAG,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;gBACnB,IAAI,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC;YACxB,CAAC;QAEL,CAAC,CAAC,CAAC;QAEH,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE,CAAC,KAAK;YAC7D,IAAI,EAAE,GAAG,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,KAAK,EAAE,CAAC;YAExC,IAAI,IAAI,GAAG;;;mDAG4B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,UAAU,EAAE;;sDAEhC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,WAAW,EAAE;;iDAEzC,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,MAAM,EAAE;;oDAE5B,IAAI,CAAC,OAAO,CAAC,OAAO,EAAE,CAAC,OAAO,EAAE;;;CAGnF,CAAC;YACU,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,SAAS,GAAG,IAAI,CAAC;YAEjD,QAAQ,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAE,OAAO,EAAE,CAAC,KAAK;gBAC7D,IAAI,KAAK,GAAsB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC;gBACvE,IAAI,IAAI,GAAsB,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAE,CAAC,KAAK,CAAC;gBACrE,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAE,CAAC,KAAK,CAAC;gBAC7E,IAAI,GAAG,GAAsB,QAAQ,CAAC,cAAc,CAAC,KAAK,CAAE,CAAC,KAAK,CAAC;gBAEnE,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,EAAC,KAAK,EAAC,QAAQ,EAAC,GAAG,EAAC,CAAC,EAAC,CAAC,CAAC,CAAC;gBAEjD,EAAE,CAAA,CAAC,OAAO,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;oBAC1B,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;gBAC3B,CAAC;gBAED,IAAI,CAAC,OAAO,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,CAAC;YAEtC,CAAC,CAAC,CAAC;QAGP,CAAC,CAAC,CAAC;QAEH,IAAI,CAAC,IAAI,EAAE,CAAC;IAChB,CAAC;AAEL,CAAC;AAAA","sourcesContent":["/**\n * Created by user on 2017-01-06.\n */\nclass ViewNote {\n    private note: Note;\n    private selector = document.querySelector(\"#note\");\n    public constructor(note: Note){\n        this.note = note;\n        this.selector.innerHTML = this.show();\n    }\n\n    public getNote(){\n        return this.note;\n    }\n\n    public show(): string{\n        if(typeof this.note == \"undefined\"){\n            return \"<p>No message selected</p>\";\n        }\n        else{\n            return `\n            \n            <dl>                \n                <dt>Subject:</dt>\n                <dd><em>${this.note.getSubject()}</em></dd>                            \n                <dt>Category:</dt>\n                <dd>${this.note.getCategory()}</dd>\n                <dt>Tag:</dt>\n                <dd>${this.note.getTag()}</dd>\n                <dt>Content:</dt>\n                <dd><p>${this.note.getBody()}</p></dd>\n            </dl>\n            <button id=\"delete\" class=\"btn\">Delete this message</button>\n            <button id=\"edit\" class=\"btn\">Edit this message</button>\n            \n        `;\n        }\n    }\n}\n\n\nclass VNoteList {\n    private messages: Note[];\n    public constructor(messages: Note[]){\n        this.messages = messages;\n    }\n\n    public show(){\n        let temp =``;\n        for(let item of this.messages){\n            if(typeof item != \"undefined\"){\n                    temp += `\n                <tr id=${item.getId()}>\n                    <td>${item.getSubject()}</td>\n                    <td>${item.getCategory()}</td>\n                    <td>${item.getTag()}</td>\n                    \n                </tr> `;\n            }\n        }\n        return temp;\n    }\n\n\n}\n\nclass VSavingNote {\n    private selector = document.querySelector('#note');\n\n    public  constructor(){\n        this.show();\n    }\n\n    public show(){\n\n\n        let temp = `\n         <span id=\"formularz\">\n            <p>Podaj tytuł wiadomości:</p>\n            <input id=\"Subject\" type=\"text\">\n            <p>Podaj kategorie:</p>\n            <input id=\"Category\" type=\"text\">\n            <p>Podaj etykiete:</p>\n            <input id=\"Tag\" type=\"text\">\n            <p>Wpisz tekst wiadomości:</p>\n            <textarea id=\"Content\" cols=\"8\" rows=\"8\"></textarea>\n            <input id=\"Send\" class=\"btn\" type=\"submit\" value=\"Dodaj\">\n        </span>    \n`;\n        this.selector.innerHTML = temp;\n\n        document.querySelector(\"#NewNote\").addEventListener( 'click', () => {\n            this.show();\n        });\n\n        document.querySelector(\"#Logout\").addEventListener( 'click', () => {\n            app.logout();\n        });\n\n        document.querySelector(\"#Filter\").addEventListener( 'click', () => {\n            let selected = (<HTMLInputElement>document.getElementById(\"SortBy\")).value;\n            let cred = (<HTMLInputElement>document.getElementById(\"SortCredentials\")).value;\n            if(cred.length == 0)\n                app.getNotesList();\n            else {\n                if (selected == \"Tag\")\n                    app.getNotesListByTag(cred);\n                else\n                    app.getNotesListByCategory(cred);\n            }\n        });\n\n\n\n\n        document.querySelector(\"#Send\").addEventListener( 'click', (event) => {\n            let title = (<HTMLInputElement>document.getElementById(\"Subject\")).value;\n            let body = (<HTMLInputElement>document.getElementById(\"Content\")).value;\n            let category = (<HTMLInputElement>document.getElementById(\"Category\")).value;\n            let tag = (<HTMLInputElement>document.getElementById(\"Tag\")).value;\n\n            let note = new Note(body,title,category,tag,0,0);\n\n            app.sendNote(note);\n            (<HTMLInputElement>document.getElementById(\"Subject\")).value = \"\";\n            (<HTMLInputElement>document.getElementById(\"Content\")).value = \"\";\n            (<HTMLInputElement>document.getElementById(\"Category\")).value = \"\";\n            (<HTMLInputElement>document.getElementById(\"Tag\")).value = \"\";\n\n        });\n\n\n        return temp;\n    }\n\n}\n\nclass VList {\n    private list: VNoteList;\n    private content: ViewNote;\n    private mailing: VSavingNote;\n    private selector = document.querySelector(\"#noteList\");\n\n    public constructor(){\n        this.list = new VNoteList([]);\n        this.mailing = new VSavingNote();\n        this.show();\n    }\n\n    public show(){\n        let temp =`\n        <table id=\"noteBox\">\n            <thead>\n            <tr>\n                <th>Message title</th>\n                <th>Category</th>\n                <th>Tag</th>\n                \n            </tr>\n            </thead>\n            <tbody >\n                ${this.list.show()}            \n            </tbody>\n        </table>\n`;\n        this.selector.innerHTML = temp;\n\n        document.querySelector(\"#noteBox\").addEventListener( 'click', (event) => {\n            var target = event.target as HTMLElement;\n            var x =target.parentElement;\n            var id = +x.id;\n\n            if(target.nodeName === \"TD\"){\n                if(typeof id != \"undefined\") {\n                    //this.setMessage(this.list.getMessage(id));\n                    app.getNote(id);\n                }\n            }\n            if(target.nodeName === \"B\"){\n                if(typeof +x.parentElement.id != \"undefined\") {\n                    //this.setMessage(this.list.getMessage(+x.parentElement.id));\n                    app.getNote(+x.parentElement.id);\n                }\n            }\n\n        });\n\n        return temp;\n\n    }\n\n    public setNotes(list: Note[]) {\n        this.list = new VNoteList(list);\n        this.show();\n    }\n\n    public setNote(note: Note) {\n        this.content = new ViewNote(note);\n\n        document.querySelector(\"#delete\").addEventListener( 'click', (event) => {\n            var id = this.content.getNote().getId()\n            if(typeof id != \"undefined\") {\n                app.deleteNote(id);\n                this.mailing.show();\n            }\n\n        });\n\n        document.querySelector(\"#edit\").addEventListener( 'click', (event) => {\n            var id = this.content.getNote().getId();\n\n            let temp = `\n         <span id=\"formularz\">\n            <p>Podaj nowy tytuł wiadomości:</p>\n            <input id=\"Title\" type=\"text\" value=\"${this.content.getNote().getSubject()}\">\n            <p>Podaj nową kategorie:</p>\n            <input id=\"Category\" type=\"text\" value=\"${this.content.getNote().getCategory()}\">\n            <p>Podaj nową etykiete:</p>\n            <input id=\"Tag\" type=\"text\" value=\"${this.content.getNote().getTag()}\">\n            <p>Wpisz nowy tekst wiadomości:</p>\n            <textarea id=\"Body\" cols=\"8\" rows=\"8\">${this.content.getNote().getBody()}</textarea>\n            <input id=\"Edit\" class=\"btn\" type=\"submit\" value=\"Edytuj\">\n        </span>    \n`;\n            document.querySelector('#note').innerHTML = temp;\n\n            document.querySelector(\"#Edit\").addEventListener( 'click', (event) => {\n                let title = (<HTMLInputElement>document.getElementById(\"Title\")).value;\n                let body = (<HTMLInputElement>document.getElementById(\"Body\")).value;\n                let category = (<HTMLInputElement>document.getElementById(\"Category\")).value;\n                let tag = (<HTMLInputElement>document.getElementById(\"Tag\")).value;\n\n                let note = new Note(body,title,category,tag,0,0);\n\n                if(typeof id != \"undefined\") {\n                    app.editNote(id, note);\n                }\n\n                this.content = new ViewNote(note);\n\n            });\n\n\n        });\n\n        this.show();\n    }\n\n}\n\n\n"]}