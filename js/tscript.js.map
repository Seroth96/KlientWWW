{"version":3,"file":"tscript.js","sourceRoot":"","sources":["tscript.ts"],"names":[],"mappings":";;;;;;;;AACA;;GAEG;AACH;IAOI,YAAY,KAAa,EAAE,QAAgB;QANnC,UAAK,GAAW,EAAE,CAAC;QACnB,cAAS,GAAG,uBAAuB,CAAC;QAMxC,IAAI,CAAC,QAAQ,GAAG,KAAK,CAAC;QACtB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;IAC7B,CAAC;IAGM,QAAQ;QACX,EAAE,CAAA,CAAC,IAAI,CAAC,KAAK,IAAI,EAAE,CAAC,CAAC,CAAC;YAClB,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC;gBACtB,MAAM,CAAC,IAAI,CAAC;QACpB,CAAC;QACD,MAAM,CAAC,KAAK,CAAA;IAChB,CAAC;IAEM,MAAM;QACT,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,QAAQ,CAAC,QAAQ,CAAC,OAAO,CAAC,eAAe,CAAC,CAAC;IAC/C,CAAC;IAEM,cAAc;QACjB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAEO,MAAM,CAAC,QAAgB;QAC3B,MAAM,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;IACrC,CAAC;IAEY,KAAK;;YACd,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACpC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;oBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;iBAC1B,CAAC;gBACF,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,cAAc,EAAE,kBAAkB;iBACrC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,IAAI;wBACrC,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;oBACnC,CAAC,CAAC,CAAC;gBACP,CAAC;aAAA,CAAC,CAAC;QACP,CAAC;KAAA;IAEY,QAAQ;;YACjB,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,eAAe,CAAC,CAAC;YACvC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,MAAM;gBACd,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACjB,QAAQ,EAAE,IAAI,CAAC,QAAQ;oBACvB,QAAQ,EAAE,IAAI,CAAC,QAAQ;iBAC1B,CAAC;gBACF,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,cAAc,EAAE,kBAAkB;iBACrC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,IAAI;wBACrC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;oBACxB,CAAC,CAAC,CAAC;gBACP,CAAC;aAAA,CAAC,CAAC;QACP,CAAC;KAAA;IAEY,YAAY;;YACrB,IAAI,KAAK,GAAW,EAAE,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACpC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;iBACvC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG;wBACnC,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;4BACnC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EACjC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAClB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EACxB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EACnB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EACf,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAA;wBAC9B,CAAC;wBACD,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;aAAA,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;KAAA;IAEY,sBAAsB,CAAC,QAAgB;;YAChD,IAAI,KAAK,GAAW,EAAE,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,gBAAgB,GAAC,QAAQ,GAAC,QAAQ,CAAC,CAAC;YAC1D,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;iBACvC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG;wBACpC,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;4BAClC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EACjC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAClB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EACxB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EACnB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EACf,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAA;wBAC9B,CAAC;wBACD,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;aAAA,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;KAAA;IAEY,iBAAiB,CAAC,GAAW;;YACtC,IAAI,KAAK,GAAW,EAAE,CAAC;YACvB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,WAAW,GAAC,GAAG,GAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;iBACvC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,GAAG;wBACpC,GAAG,CAAA,CAAC,IAAI,CAAC,GAAC,CAAC,EAAE,CAAC,GAAC,GAAG,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,EAAE,EAAC,CAAC;4BAClC,KAAK,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,EACjC,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,EAClB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,WAAW,EACxB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,EACnB,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,EACf,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAA;wBAC9B,CAAC;wBACD,MAAM,CAAC,KAAK,CAAC;oBACjB,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,KAAK,CAAC;gBACjB,CAAC;aAAA,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,CAAC;QACjB,CAAC;KAAA;IAEY,OAAO,CAAC,EAAU;;YAC3B,IAAI,IAAI,GAAG,IAAI,CAAC;YAChB,IAAI,IAAU,CAAC;YACf,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,GAAC,EAAE,CAAC,CAAC;YACxC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;iBACvC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,IAAI;wBACrC,IAAI,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,IAAI,EACrB,IAAI,CAAC,KAAK,EACV,IAAI,CAAC,WAAW,EAChB,IAAI,CAAC,MAAM,EACX,IAAI,CAAC,EAAE,EACP,IAAI,CAAC,OAAO,CAAC,CAAC;wBAClB,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;oBAC5B,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aAAA,CAAC,CAAC;QAEP,CAAC;KAAA;IAEY,IAAI,CAAC,IAAU;;YACxB,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;YACpC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,MAAM;gBACd,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;oBACpC,cAAc,EAAE,kBAAkB;iBACrC,CAAC;gBACF,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE;oBACpB,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;oBAC5B,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE;oBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE;iBAC3B,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,QAAQ;wBACzC,EAAE,CAAC,CAAC,OAAO,QAAQ,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;4BACpC,MAAM,CAAC,IAAI,CAAC;wBAChB,CAAC;oBACL,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aAAA,CAAC,CAAC;YACH,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;KAAA;IAEY,QAAQ,CAAC,EAAU,EAAE,IAAU;;YACxC,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,GAAC,EAAE,CAAC,CAAC;YACxC,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,KAAK;gBACb,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;oBACpC,cAAc,EAAE,kBAAkB;iBACrC,CAAC;gBACF,IAAI,EAAE,IAAI,CAAC,SAAS,CAAC;oBACjB,IAAI,EAAE,IAAI,CAAC,OAAO,EAAE;oBACpB,QAAQ,EAAE,IAAI,CAAC,WAAW,EAAE;oBAC5B,GAAG,EAAE,IAAI,CAAC,MAAM,EAAE;oBAClB,KAAK,EAAE,IAAI,CAAC,UAAU,EAAE;iBAC3B,CAAC;aACL,CAAC,CAAC;YACH,MAAM,KAAK,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,UAAgB,QAAQ;;oBAC9C,MAAM,QAAQ,CAAC,IAAI,EAAE,CAAC,IAAI,CAAC,UAAU,QAAQ;wBACzC,EAAE,CAAC,CAAC,OAAO,QAAQ,CAAC,EAAE,IAAI,WAAW,CAAC,CAAC,CAAC;4BACpC,MAAM,CAAC,IAAI,CAAC;wBAChB,CAAC;oBACL,CAAC,CAAC,CAAC;oBACH,MAAM,CAAC,IAAI,CAAC;gBAChB,CAAC;aAAA,CAAC,CAAC;YACH,MAAM,CAAC,IAAI,CAAC;QAChB,CAAC;KAAA;IAEY,MAAM,CAAC,EAAU;;YAC1B,IAAI,GAAG,GAAG,IAAI,CAAC,MAAM,CAAC,aAAa,GAAG,EAAE,CAAC,CAAC;YAC1C,IAAI,OAAO,GAAG,IAAI,OAAO,CAAC,GAAG,EAAE;gBAC3B,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,IAAI,OAAO,CAAC;oBACjB,eAAe,EAAE,MAAM,GAAG,IAAI,CAAC,KAAK;iBACvC,CAAC;aACL,CAAC,CAAC;YACH,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;QAC1B,CAAC;KAAA;AAEL,CAAC;AAED;IAQI,YAAmB,IAAI,GAAW,YAAY,EAAE,KAAK,GAAW,YAAY,EACzD,QAAQ,GAAW,EAAE,EAAE,GAAG,GAAW,EAAE,EAAE,EAAE,GAAW,CAAC,EAAE,OAAO,GAAW,CAAC;QAC3F,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QAEjB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;QACnB,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;QAC5B,IAAI,CAAC,MAAM,GAAG,GAAG,CAAC;QAClB,IAAI,CAAC,EAAE,GAAG,EAAE,CAAC;QACb,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;IACtB,CAAC;IAED,OAAO;QACH,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IAED,UAAU;QACN,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAED,WAAW;QACP,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAED,MAAM;QACF,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;IACvB,CAAC;IAED,KAAK;QACD,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC;IACnB,CAAC;IAED,UAAU;QACN,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACxB,CAAC;AAGL,CAAC;AAGD;IAKI,YAAmB,GAAQ;QACvB,IAAI,CAAC,GAAG,GAAG,GAAG,CAAC;QACf,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,WAAW,GAAG,IAAI,IAAI,EAAE,CAAC;IAClC,CAAC;IAEY,MAAM;;YACf,MAAM,IAAI,CAAC,GAAG,CAAC,YAAY,EAAE,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;YAClE,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;KAAA;IAGM,WAAW;QACd,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;IACtB,CAAC;IAEY,gBAAgB,CAAC,GAAW;;YACrC,MAAM,IAAI,CAAC,GAAG,CAAC,iBAAiB,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;YAC1E,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;KAAA;IAEY,qBAAqB,CAAC,QAAgB;;YAC/C,MAAM,IAAI,CAAC,GAAG,CAAC,sBAAsB,CAAC,QAAQ,CAAC,CAAC,IAAI,CAAC,CAAC,KAAK,KAAK,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC;YACpF,MAAM,CAAC,IAAI,CAAC,KAAK,CAAC;QACtB,CAAC;KAAA;IAEM,cAAc;QACjB,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC;IAC5B,CAAC;IAEY,QAAQ,CAAC,CAAO;;YACzB,MAAM,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;KAAA;IAEY,OAAO,CAAC,EAAU;;YAC3B,MAAM,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC3B,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,CAAC,cAAc,EAAE,CAAC;QACjD,CAAC;KAAA;IAGY,UAAU,CAAC,EAAU;;YAC9B,MAAM,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC;YAC1B,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;KAAA;IAEY,QAAQ,CAAC,EAAU,EAAE,IAAU;;YACxC,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YAClC,MAAM,IAAI,CAAC,MAAM,EAAE,CAAC;QACxB,CAAC;KAAA;AACL,CAAC;AAED;IAKI,YAAY,QAAgB,EAAE,QAAgB;QAC1C,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;QACvC,EAAE,CAAA,CAAC,QAAQ,IAAG,EAAE,IAAI,QAAQ,IAAE,EAAE,CAAC;YAC7B,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;IACtC,CAAC;IAEa,IAAI;;YACd,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,QAAQ,GAAG,IAAI,KAAK,EAAE,CAAC;YAC5B,IAAI,CAAC,IAAI,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACnC,MAAM,IAAI,CAAC,YAAY,EAAE,CAAC;QAC9B,CAAC;KAAA;IAEY,QAAQ,CAAC,QAAgB,EAAE,QAAgB;;YACpD,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvC,MAAM,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC9B,CAAC;KAAA;IAEM,cAAc;QACjB,QAAQ,CAAC,IAAI,CAAC,SAAS,GAAG;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;aAgCrB,CAAC;IAEV,CAAC;IAEY,KAAK,CAAC,QAAgB,EAAE,QAAgB;;YACjD,IAAI,CAAC,GAAG,GAAG,IAAI,GAAG,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;YACvC,MAAM,IAAI,CAAC,GAAG,CAAC,KAAK,EAAE,CAAC;YACxB,EAAE,CAAA,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC;gBACf,IAAI,CAAC,IAAI,EAAE,CAAC;QAEnB,CAAC;KAAA;IAEM,MAAM;QACT,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;IACtB,CAAC;IACM,OAAO;QACV,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;IACrB,CAAC;IACY,QAAQ;;YACjB,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ,EAAE,CAAC;QAC/B,CAAC;KAAA;IAEY,YAAY;;YACrB,MAAM,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC;YACzB,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACpD,CAAC;KAAA;IAEY,iBAAiB,CAAC,GAAW;;YACtC,MAAM,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,GAAG,CAAC,CAAC;YACtC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACpD,CAAC;KAAA;IAEY,sBAAsB,CAAC,QAAgB;;YAChD,MAAM,IAAI,CAAC,IAAI,CAAC,qBAAqB,CAAC,QAAQ,CAAC,CAAC;YAChD,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QAEpD,CAAC;KAAA;IAEY,QAAQ,CAAC,CAAO;;YACzB,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACpD,CAAC;KAAA;IAEY,OAAO,CAAC,EAAU;;YAC3B,MAAM,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,EAAE,CAAC,CAAC;YAC5B,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,cAAc,EAAE,CAAC,CAAC;QACtD,CAAC;KAAA;IAEY,UAAU,CAAC,EAAU;;YAC9B,MAAM,IAAI,CAAC,IAAI,CAAC,UAAU,CAAC,EAAE,CAAC,CAAC;YAC/B,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACpD,CAAC;KAAA;IAEY,QAAQ,CAAC,EAAU,EAAE,IAAU;;YACxC,MAAM,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE,EAAE,IAAI,CAAC,CAAC;YACnC,IAAI,CAAC,QAAQ,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE,CAAC,CAAC;QACpD,CAAC;KAAA;AACL,CAAC;AAGA,IAAI,GAAG,GAAG,IAAI,WAAW,CAAC,EAAE,EAAC,EAAE,CAAC,CAAC;AAGlC,EAAE,CAAA,CAAC,QAAQ,CAAC,cAAc,CAAC,kBAAkB,CAAC,IAAI,IAAK,CAAC,CAAC,CAAC;IAGtD,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC;QAEnE,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC;QAC1E,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAE,CAAC,KAAK,CAAC;QAE7E,GAAG,CAAC,QAAQ,CAAC,QAAQ,EAAC,QAAQ,CAAC,CAAC;IAIpC,CAAC,CAAC,CAAC;IAGH,QAAQ,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,CAAC,CAAC;QAChE,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAE,CAAC,KAAK,CAAC;QAC1E,IAAI,QAAQ,GAAsB,QAAQ,CAAC,cAAc,CAAC,UAAU,CAAE,CAAC,KAAK,CAAC;QAE7E,GAAG,GAAG,IAAI,WAAW,CAAC,QAAQ,EAAE,QAAQ,CAAC,CAAC;IAK9C,CAAC,CAAC,CAAC;AAEP,CAAC","sourcesContent":["\n/**\n * Created by user on 2017-01-05.\n */\nclass Api {\n    private token: string = \"\";\n    private msgApiUrl = \"http://127.0.0.1:8080\";\n    private username: string;\n    private password: string;\n    private currentNote: Note;\n\n    constructor(login: string, password: string) {\n        this.username = login;\n        this.password = password;\n    }\n\n\n    public isLogged(){\n        if(this.token != \"\") {\n            if (this.token.length > 0)\n                return true;\n        }\n        return false\n    }\n\n    public logout() {\n        this.token = \"\";\n        document.location.replace(\"NotesApp.html\");\n    }\n\n    public getCurrentNote(){\n        return this.currentNote;\n    }\n\n    private getUrl(endpoint: string) {\n        return this.msgApiUrl + endpoint;\n    }\n\n    public async login() {\n        let that = this;\n        let url = this.getUrl('/api/login');\n        let request = new Request(url, {\n            method: 'POST',\n            body: JSON.stringify({\n                username: that.username,\n                password: that.password\n            }),\n            headers: new Headers({\n                'Content-Type': 'application/json'\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (data) {\n                that.token = data.access_token;\n            });\n        });\n    }\n\n    public async register() {\n        let that = this;\n        let url = this.getUrl('/api/register');\n        let request = new Request(url, {\n            method: 'POST',\n            body: JSON.stringify({\n                username: that.username,\n                password: that.password\n            }),\n            headers: new Headers({\n                'Content-Type': 'application/json'\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (data) {\n                alert(data.message);\n            });\n        });\n    }\n\n    public async getNotesList() {\n        let notes: Note[] = [];\n        let url = this.getUrl('/api/Notes');\n        let request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (row) {\n                 for(let i=0; i<row.notes.length; i++){\n                    notes.push(new Note(row.notes[i].body,\n                        row.notes[i].title,\n                        row.notes[i].category_id,\n                        row.notes[i].tag_id,\n                        row.notes[i].id,\n                        row.notes[i].user_id))\n                }\n                return notes;\n            });\n            return notes;\n        });\n        return notes;\n    }\n\n    public async getNotesListByCategory(category: string) {\n        let notes: Note[] = [];\n        let url = this.getUrl('/api/Category/'+category+'/Notes');\n        let request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (row) {\n                for(let i=0; i<row.notes.length; i++){\n                    notes.push(new Note(row.notes[i].body,\n                        row.notes[i].title,\n                        row.notes[i].category_id,\n                        row.notes[i].tag_id,\n                        row.notes[i].id,\n                        row.notes[i].user_id))\n                }\n                return notes;\n            });\n            return notes;\n        });\n        return notes;\n    }\n\n    public async getNotesListByTag(tag: string) {\n        let notes: Note[] = [];\n        let url = this.getUrl('/api/Tag/'+tag+'/Notes');\n        let request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (row) {\n                for(let i=0; i<row.notes.length; i++){\n                    notes.push(new Note(row.notes[i].body,\n                        row.notes[i].title,\n                        row.notes[i].category_id,\n                        row.notes[i].tag_id,\n                        row.notes[i].id,\n                        row.notes[i].user_id))\n                }\n                return notes;\n            });\n            return notes;\n        });\n        return notes;\n    }\n\n    public async getNote(id: number) {\n        let that = this;\n        let note: Note;\n        let url = this.getUrl('/api/Notes/'+id);\n        let request = new Request(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (data) {\n                note = new Note(data.body,\n                    data.title,\n                    data.category_id,\n                    data.tag_id,\n                    data.id,\n                    data.user_id);\n                that.currentNote = note;\n            });\n            return note;\n        });\n\n    }\n\n    public async send(note: Note) {\n        let url = this.getUrl('/api/Notes');\n        let request = new Request(url, {\n            method: 'POST',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n                'Content-type': 'application/json'\n            }),\n            body: JSON.stringify({\n                body: note.getBody(),\n                category: note.getCategory(),\n                tag: note.getTag(),\n                title: note.getSubject(),\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (response) {\n                if (typeof response.id != \"undefined\") {\n                    return true;\n                }\n            });\n            return true;\n        });\n        return true;\n    }\n\n    public async editNote(id: number, note: Note) {\n        let url = this.getUrl('/api/Notes/'+id);\n        let request = new Request(url, {\n            method: 'PUT',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n                'Content-type': 'application/json'\n            }),\n            body: JSON.stringify({\n                body: note.getBody(),\n                category: note.getCategory(),\n                tag: note.getTag(),\n                title: note.getSubject(),\n            })\n        });\n        await fetch(request).then(async function (response) {\n            await response.json().then(function (response) {\n                if (typeof response.id != \"undefined\") {\n                    return true;\n                }\n            });\n            return true;\n        });\n        return true;\n    }\n\n    public async delete(id: number) {\n        let url = this.getUrl('/api/Notes/' + id);\n        let request = new Request(url, {\n            method: 'delete',\n            headers: new Headers({\n                'Authorization': 'JWT ' + this.token,\n            })\n        });\n        return fetch(request);\n    }\n\n}\n\nclass Note{\n    private body: string;\n    private title: string;\n    private category_id: string;\n    private tag_id: string;\n    private id: number;\n    private user_id: number;\n\n    public constructor(body: string = \"No content\", title: string = \"No subject\",\n                       category: string = \"\", tag: string = \"\", id: number = 0, user_id: number = 0) {\n        this.body = body;\n\n        this.title = title;\n        this.category_id = category;\n        this.tag_id = tag;\n        this.id = id;\n        this.user_id = id;\n    }\n\n    getBody() {\n        return this.body;\n    }\n\n    getSubject() {\n        return this.title;\n    }\n\n    getCategory() {\n        return this.category_id;\n    }\n\n    getTag() {\n        return this.tag_id;\n    }\n\n    getId() {\n        return this.id;\n    }\n\n    getUser_id(){\n        return this.user_id;\n    }\n\n\n}\n\n\nclass NotesBox {\n    private notes: Note[];\n    private api: Api;\n    private currentNote: Note;\n\n    public constructor(api: Api) {\n        this.api = api;\n        this.notes = [];\n        this.currentNote = new Note();\n    }\n\n    public async reload() {\n        await this.api.getNotesList().then((notes) => this.notes = notes);\n        return this.notes;\n    }\n\n\n    public getAllNotes() {\n        return this.notes;\n    }\n\n    public async getAllNotesByTag(tag: string) {\n        await this.api.getNotesListByTag(tag).then((notes) => this.notes = notes);\n        return this.notes;\n    }\n\n    public async getAllNotesByCategory(category: string) {\n        await this.api.getNotesListByCategory(category).then((notes) => this.notes = notes);\n        return this.notes;\n    }\n\n    public getCurrentNote(){\n        return this.currentNote;\n    }\n\n    public async sendNote(n: Note) {\n        await this.api.send(n);\n        await this.reload();\n    }\n\n    public async getNote(id: number){\n        await this.api.getNote(id);\n        this.currentNote = this.api.getCurrentNote();\n    }\n\n\n    public async deleteNote(id: number) {\n        await this.api.delete(id);\n        await this.reload();\n    }\n\n    public async editNote(id: number, note: Note) {\n        await this.api.editNote(id, note);\n        await this.reload();\n    }\n}\n\nclass Application {\n    private api: Api;\n    private mailList: VList;\n    private data: NotesBox;\n\n    constructor(username: string, password: string) {\n        this.api = new Api(username, password);\n        if(username !=\"\" && password!=\"\")\n            this.login(username,password);\n    }\n\n    public  async init() {\n        this.initializeView();\n        this.mailList = new VList();\n        this.data = new NotesBox(this.api);\n        await this.getNotesList();\n    }\n\n    public async register(username: string, password: string){\n        this.api = new Api(username, password);\n        await this.api.register();\n    }\n\n    public initializeView(){\n        document.body.innerHTML = `\n                        <nav>\n                            <button id=\"NewNote\" class=\"btn\">New note</button>\n                            <button id=\"Logout\" class=\"btn\">Logout</button>\n                        </nav>\n                        \n                        <section class=\"filter\">\n                            <ul id=\"menu\">\n                                <li><select id=\"SortBy\">\n                                    <option value=\"Category\">Category</option>\n                                    <option value=\"Tag\">Tag</option>\n                                </select></li>\n                                <li><input id=\"SortCredentials\" type=\"text\"></li>\n                                <li><button id=\"Filter\" class=\"btn\">Filter</button></li>\n                            </ul>\n                        </section>\n                        \n                        <section class=\"container\">\n                            <div id=\"note\" class=\"left-half\">\n                        \n                            </div>\n                        \n                            <div id=\"noteList\" class=\"right-half\">\n                        \n                        \n                            </div>\n                        </section>\n                        \n                        \n                        <footer>\n                            &copy; All rights reserved\n                        </footer>\n            `;\n\n    }\n\n    public async login(username: string, password: string){\n        this.api = new Api(username, password);\n        await this.api.login();\n       if(this.isLogged())\n           this.init();\n\n    }\n\n    public logout() {\n        this.api.logout();\n    }\n    public getData(){\n        return this.data;\n    }\n    public async isLogged(){\n        return this.api.isLogged();\n    }\n\n    public async getNotesList(){\n        await this.data.reload();\n        this.mailList.setNotes(this.data.getAllNotes());\n    }\n\n    public async getNotesListByTag(tag: string){\n        await this.data.getAllNotesByTag(tag);\n        this.mailList.setNotes(this.data.getAllNotes());\n    }\n\n    public async getNotesListByCategory(category: string){\n        await this.data.getAllNotesByCategory(category);\n        this.mailList.setNotes(this.data.getAllNotes());\n\n    }\n\n    public async sendNote(n: Note) {\n        await this.data.sendNote(n);\n        this.mailList.setNotes(this.data.getAllNotes());\n    }\n\n    public async getNote(id: number){\n        await this.data.getNote(id);\n        this.mailList.setNote(this.data.getCurrentNote());\n    }\n\n    public async deleteNote(id: number) {\n        await this.data.deleteNote(id);\n        this.mailList.setNotes(this.data.getAllNotes());\n    }\n\n    public async editNote(id: number, note: Note) {\n        await this.data.editNote(id, note);\n        this.mailList.setNotes(this.data.getAllNotes());\n    }\n}\n\n\n let app = new Application(\"\",\"\");\n\n\nif(document.getElementById('#container_login') == null ) {\n\n\n    document.querySelector('#submit_register').addEventListener('click', (e) => {\n\n        let username = (<HTMLInputElement>document.getElementById(\"login\")).value;\n        let password = (<HTMLInputElement>document.getElementById(\"password\")).value;\n\n        app.register(username,password);\n\n\n\n    });\n\n\n    document.querySelector('#submit_login').addEventListener('click', (e) => {\n        let username = (<HTMLInputElement>document.getElementById(\"login\")).value;\n        let password = (<HTMLInputElement>document.getElementById(\"password\")).value;\n\n        app = new Application(username, password);\n\n\n\n\n    });\n\n}\n\n\n\n\n\n\n\n\n\n\n"]}